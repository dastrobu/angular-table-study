<!-- our container sits on a ship ;-) this is at leas easy to remember -->
<div #ship class="ship">

    <!-- the container is responsible for the scrollbars and the main canvas (not the fixed areas) -->
    <div #container class="container">
        <div #canvas class="canvas"
             [style.width]="viewModel.canvasSize.width + 'px'"
             [style.height]="viewModel.canvasSize.height + 'px'"
             [style.min-width]="viewModel.viewportSize.width + 'px'"
             [style.min-height]="viewModel.viewportSize.height + 'px'"
        >
            <!-- TODO DST: implement -->
            <ng-container *ngFor="let row of cells; let i = index">
                <div class="cell"
                     *ngFor="let cell of row; let j = index"
                     [style.transform]="'translate3d(' + viewModel.colPosition(j) + 'px, ' + viewModel.rowPosition(i) + 'px, 0)'"
                     [style.height]="viewModel.rowHeight(i) + 'px'"
                     [style.width]="viewModel.colWidth(j) + 'px'"
                >
                    {{cell}}
                </div>
            </ng-container>
        </div>
    </div>

    <!-- all fixed areas sit outside the container -->
    <!-- START: fixed areas -->
    <div *ngIf="showFixed.top"
         #fixedTop class="fixed fixed-top"
         [style.height]="viewModel.fixedTopHeight + 'px'"
    >
        <!-- TODO DST: check if this is needed, if no scroll bar is there -->
        <!-- one pixel is added to the canvas size, to account for rounding errors -->
        <div #canvasTop class="canvas-top"
             [style.width]="viewModel.canvasSize.width + 1 + 'px'"
             [style.height]="viewModel.canvasSize.height + 'px'"
             [style.min-width]="viewModel.viewportSize.width + 1 + 'px'"
             [style.min-height]="viewModel.viewportSize.height + 'px'"
        >
        </div>
    </div>
    <div *ngIf="showFixed.right"
         #fixedRight class="fixed fixed-right"
         [style.transform]="'translate3d(' + viewModel.fixedRightOffset + 'px, 0, 0)'"
         [style.width]="viewModel.fixedRightWidth + 'px'"
    >
        <!-- TODO DST: check if this is needed, if no scroll bar is there -->
        <!-- one pixel is added to the canvas size, to account for rounding errors -->
        <div #canvasRight class="canvas-right"
             [style.width]="viewModel.canvasSize.width + 'px'"
             [style.height]="viewModel.canvasSize.height + 'px'"
             [style.min-width]="viewModel.viewportSize.width + 'px'"
             [style.min-height]="viewModel.viewportSize.height + 'px'"
        >
        </div>
    </div>
    <div *ngIf="showFixed.bottom"
         #fixedBottom class="fixed fixed-bottom"
         [style.transform]="'translate3d(0, ' + viewModel.fixedBottomOffset + 'px, 0)'"
         [style.height]="viewModel.fixedBottomHeight  + 'px'"
    >
        <!-- TODO DST: check if this is needed, if no scroll bar is there -->
        <!-- one pixel is added to the canvas size, to account for rounding errors -->
        <div #canvasBottom class="canvas-bottom"
             [style.width]="viewModel.canvasSize.width + 1 + 'px'"
             [style.height]="viewModel.canvasSize.height + 'px'"
             [style.min-width]="viewModel.viewportSize.width + 1 + 'px'"
             [style.min-height]="viewModel.viewportSize.height + 'px'"
        >
        </div>
    </div>
    <div *ngIf="showFixed.left"
         #fixedLeft class="fixed fixed-left"
         [style.width]="viewModel.fixedLeftWidth  + 'px'"
    >
        <div #canvasLeft class="canvas-left"
             [style.width]="viewModel.canvasSize.width + 'px'"
             [style.height]="viewModel.canvasSize.height + 'px'"
             [style.min-width]="viewModel.viewportSize.width + 'px'"
             [style.min-height]="viewModel.viewportSize.height + 'px'"
        >
        </div>
    </div>
    <div *ngIf="showFixedCorners.topRight"
         #fixedTopRight class="fixed fixed-top-right"
         [style.transform]="'translate3d(' + viewModel.fixedRightOffset + 'px, 0, 0)'"
         [style.height]="viewModel.fixedTopHeight  + 'px'"
         [style.width]="viewModel.fixedRightWidth + 'px'"
    >
    </div>
    <div *ngIf="showFixedCorners.bottomRight"
         #fixedBottomRight class="fixed fixed-bottom-right"
         [style.transform]="'translate3d(' + viewModel.fixedRightOffset + 'px, ' + viewModel.fixedBottomOffset + 'px, 0)'"
         [style.width]="viewModel.fixedRightWidth + 'px'"
         [style.height]="viewModel.fixedBottomHeight  + 'px'"
    >
    </div>
    <div *ngIf="showFixedCorners.bottomLeft"
         #fixedBottomLeft class="fixed fixed-bottom-left"
         [style.transform]="'translate3d(0, ' + viewModel.fixedBottomOffset + 'px, 0)'"
         [style.height]="viewModel.fixedBottomHeight  + 'px'"
         [style.width]="viewModel.fixedLeftWidth + 'px'"
    >
    </div>
    <div *ngIf="showFixedCorners.topLeft"
         #fixedTopLeft class="fixed fixed-top-left"
         [style.height]="viewModel.fixedTopHeight  + 'px'"
         [style.width]="viewModel.fixedLeftWidth + 'px'"
    >
    </div>
    <!-- END: fixed areas -->
</div>
